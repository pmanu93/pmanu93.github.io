<!DOCTYPE html>
<html lang="pt-PT">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reposit√≥rio Mec√¢nica Autom√≥vel | IPCA</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>

<body>
    <div class="layout">
        <!-- Left Column - Hero/Branding -->
        <aside class="hero-column">
            <canvas id="hero-canvas"></canvas>
            <div class="hero-content">
                <div class="logo-container">
                    <img src="img/logo_ipca.png" alt="IPCA Logo" class="ipca-logo">
                </div>
                <h1>Mec√¢nica Autom√≥vel</h1>
                <p class="hero-desc">
                    Reposit√≥rio de trabalhos acad√©micos e apresenta√ß√µes desenvolvidos
                    no √¢mbito do curso de Mec√¢nica Autom√≥vel do IPCA.
                </p>
                <div class="hero-footer">
                    <button class="group-btn" id="open-group">
                        <span>üë•</span> Ver Grupo
                    </button>
                </div>
            </div>
        </aside>

        <!-- Right Column - Content -->
        <main class="content-column">
            <div class="content-scroll">
                <h2 class="section-title">Disciplinas & Trabalhos</h2>

                <!-- Motores de Combust√£o Interna -->
                <section class="course-card">
                    <div class="course-header">
                        <h3 class="course-title">Motores de Combust√£o Interna</h3>
                        <span class="professor-tag">Prof. Pedro Correia</span>
                    </div>
                    <div class="projects">
                        <a href="./MotoresDeCombustao/arrefecimento/index.html" class="project-item">
                            <span class="project-icon">üå°Ô∏è</span>
                            <div class="project-info">
                                <span class="project-name">Sistema de Arrefecimento</span>
                                <span class="project-desc">M√©todos de teste e diagn√≥stico</span>
                            </div>
                            <span class="arrow">‚Üí</span>
                        </a>
                        <a href="./MotoresDeCombustao/hibridos/index.html" class="project-item">
                            <span class="project-icon">‚ö°</span>
                            <div class="project-info">
                                <span class="project-name">MCI em Ve√≠culos H√≠bridos</span>
                                <span class="project-desc">Motor de combust√£o em arquiteturas h√≠bridas</span>
                            </div>
                            <span class="arrow">‚Üí</span>
                        </a>
                    </div>
                </section>

                <!-- TDEM - Avarias -->
                <section class="course-card">
                    <div class="course-header">
                        <h3 class="course-title">T√©cnicas de Diagn√≥stico e Ensaio e Multiplexagem</h3>
                        <span class="professor-tag">Prof. Lu√≠s Lopes</span>
                    </div>
                    <div class="projects">
                        <a href="./TDEM_Avarias/EGR_DPF/index.html" class="project-item">
                            <span class="project-icon">üí®</span>
                            <div class="project-info">
                                <span class="project-name">Avarias - EGR e DPF</span>
                                <span class="project-desc">Recircula√ß√£o de gases e filtro de part√≠culas</span>
                            </div>
                            <span class="arrow">‚Üí</span>
                        </a>
                    </div>
                </section>

                <footer class="content-footer" style="position: absolute; bottom:10px; width:90%">
                    <p>&copy; 2025 // 32801 - Pedro Silva</p>
                </footer>
            </div>
        </main>
    </div>

    <!-- Modal for Group -->
    <div class="modal-overlay" id="group-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Trabalhos realizados por:</h3>
                <button class="modal-close" id="close-group">‚úï</button>
            </div>
            <ul class="team-list">
                <li><span class="student-id">29458</span> Jos√© Santos</li>
                <li><span class="student-id">32801</span> Pedro Silva</li>
                <li><span class="student-id">32805</span> Rui Rodrigues</li>
                <li><span class="student-id">32813</span> Jonathan Ramirez</li>
                <li><span class="student-id">33695</span> Francisco Gon√ßalves</li>
                <li><span class="student-id">33790</span> Jo√£o Silva</li>
            </ul>
        </div>
    </div>

    <script>
        // Three.js Particle Animation
        (function () {
            const canvas = document.getElementById('hero-canvas');
            const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
            camera.position.z = 30;

            // Create particles
            const particleCount = 800;
            const positions = new Float32Array(particleCount * 3);
            const velocities = [];

            for (let i = 0; i < particleCount; i++) {
                positions[i * 3] = (Math.random() - 0.5) * 60;
                positions[i * 3 + 1] = (Math.random() - 0.5) * 60;
                positions[i * 3 + 2] = (Math.random() - 0.5) * 40;
                velocities.push({
                    x: (Math.random() - 0.5) * 0.02,
                    y: (Math.random() - 0.5) * 0.02,
                    z: (Math.random() - 0.5) * 0.02
                });
            }

            const geometry = new THREE.BufferGeometry();
            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));

            const material = new THREE.PointsMaterial({
                color: 0x667eea,
                size: 0.15,
                transparent: true,
                opacity: 0.8,
                sizeAttenuation: true
            });

            const particles = new THREE.Points(geometry, material);
            scene.add(particles);

            // Add connecting lines
            const lineMaterial = new THREE.LineBasicMaterial({
                color: 0x667eea,
                transparent: true,
                opacity: 0.15
            });

            // Mouse interaction
            let mouseX = 0, mouseY = 0;
            document.addEventListener('mousemove', (e) => {
                mouseX = (e.clientX / window.innerWidth) * 2 - 1;
                mouseY = -(e.clientY / window.innerHeight) * 2 + 1;
            });

            function resize() {
                const rect = canvas.parentElement.getBoundingClientRect();
                renderer.setSize(rect.width, rect.height);
                camera.aspect = rect.width / rect.height;
                camera.updateProjectionMatrix();
            }

            function animate() {
                requestAnimationFrame(animate);

                const pos = geometry.attributes.position.array;
                for (let i = 0; i < particleCount; i++) {
                    pos[i * 3] += velocities[i].x;
                    pos[i * 3 + 1] += velocities[i].y;
                    pos[i * 3 + 2] += velocities[i].z;

                    // Boundary check
                    if (Math.abs(pos[i * 3]) > 30) velocities[i].x *= -1;
                    if (Math.abs(pos[i * 3 + 1]) > 30) velocities[i].y *= -1;
                    if (Math.abs(pos[i * 3 + 2]) > 20) velocities[i].z *= -1;
                }
                geometry.attributes.position.needsUpdate = true;

                // Smooth rotation based on mouse
                particles.rotation.x += (mouseY * 0.1 - particles.rotation.x) * 0.02;
                particles.rotation.y += (mouseX * 0.1 - particles.rotation.y) * 0.02;

                renderer.render(scene, camera);
            }

            resize();
            animate();
            window.addEventListener('resize', resize);
        })();

        // Modal functionality
        const modal = document.getElementById('group-modal');
        const openBtn = document.getElementById('open-group');
        const closeBtn = document.getElementById('close-group');

        openBtn.addEventListener('click', () => {
            modal.classList.add('active');
        });

        closeBtn.addEventListener('click', () => {
            modal.classList.remove('active');
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('active');
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                modal.classList.remove('active');
            }
        });
    </script>
</body>

</html>