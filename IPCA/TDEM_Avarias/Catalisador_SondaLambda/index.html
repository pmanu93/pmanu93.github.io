<!DOCTYPE html>
<html lang="pt-PT">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalisador e Sonda Lambda - Diagn√≥stico e Avarias</title>
    <meta name="description"
        content="Apresenta√ß√£o t√©cnica sobre Catalisador e Sonda Lambda: Funcionamento, Estrutura e Diagn√≥stico">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Reveal.js CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@latest/dist/reveal.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@latest/dist/theme/black.min.css">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- Dynamic SVG Background (Heat Theme - Orange/Particles) -->
    <svg id="dynamic-bg" viewBox="0 0 1920 1080" preserveAspectRatio="xMidYMid slice">
        <defs>
            <pattern id="grid" width="60" height="60" patternUnits="userSpaceOnUse">
                <path id="grid-path" d="M 60 0 L 0 0 0 60" fill="none" stroke="hsl(30, 70%, 30%)" stroke-width="0.5"
                    class="grid-pattern" />
            </pattern>
            <linearGradient id="fadeGradient" x1="0%" y1="100%" x2="100%" y2="0%">
                <stop id="gradient-stop-1" offset="0%" style="stop-color:hsl(30, 70%, 40%);stop-opacity:0.15" />
                <stop id="gradient-stop-2" offset="100%" style="stop-color:hsl(40, 60%, 30%);stop-opacity:0.08" />
            </linearGradient>
            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="4" result="coloredBlur" />
                <feMerge>
                    <feMergeNode in="coloredBlur" />
                    <feMergeNode in="SourceGraphic" />
                </feMerge>
            </filter>
            <!-- Sparkles/Heat haze filter -->
            <filter id="heat-blur">
                <feGaussianBlur stdDeviation="4" />
            </filter>
        </defs>
        <rect width="100%" height="100%" fill="url(#grid)" class="grid-pattern" />

        <!-- Background Elements -->
        <circle cx="200" cy="900" r="150" fill="url(#fadeGradient)" class="geo-element geo-1 heat-haze"
            filter="url(#glow)" />
        <circle cx="1700" cy="200" r="120" fill="url(#fadeGradient)" class="geo-element geo-2 heat-haze"
            filter="url(#glow)" />

        <!-- Floating "Sparks" -->
        <circle cx="400" cy="800" r="5" fill="hsl(35, 90%, 60%)" opacity="0.6"
            class="geo-element geo-3 spark-particle" />
        <circle cx="450" cy="750" r="3" fill="hsl(25, 90%, 60%)" opacity="0.5" class="geo-element geo-4 spark-particle"
            style="animation-delay: 1s" />
        <circle cx="1600" cy="300" r="4" fill="hsl(40, 90%, 60%)" opacity="0.55"
            class="geo-element geo-5 spark-particle" style="animation-delay: 2.5s" />

        <!-- Flow lines -->
        <path id="flow-path-1" d="M 0 1000 Q 400 600 800 800 T 1920 600" fill="none" stroke="hsl(30, 60%, 40%)"
            stroke-width="1.5" opacity="0.15" class="geo-element geo-6" />
        <path id="flow-path-2" d="M 0 200 Q 600 400 1200 100 T 1920 300" fill="none" stroke="hsl(20, 55%, 38%)"
            stroke-width="1.5" opacity="0.15" class="geo-element geo-7" />
    </svg>

    <!-- GLOBAL Header -->
    <header id="global-header" class="global-header">
        <div class="header-left">
            <span class="header-title">Catalisador & Sonda Lambda</span>
            <span class="header-separator">|</span>
            <span class="header-discipline"><i class="fas fa-fire"></i> T√©cnicas de Diagn√≥stico e Ensaio</span>
        </div>
        <div class="header-right">
            <span class="header-professor"><i class="fas fa-user-tie"></i> Prof. Lu√≠s Lopes</span>
        </div>
    </header>

    <!-- GLOBAL Footer -->
    <footer id="global-footer" class="global-footer">
        <div class="footer-left">
            <span class="footer-year"><i class="fas fa-calendar"></i> 2025</span>
        </div>
        <div class="footer-center">
            <span class="footer-course"><i class="fas fa-car"></i> Mec√¢nica Autom√≥vel</span>
        </div>
        <div class="footer-right">
            <span class="footer-hint"><i class="fas fa-arrow-down"></i> Slide Seguinte</span>
        </div>
    </footer>

    <div class="reveal">
        <div class="slides">

            <!-- Slide 0: Capa -->
            <section data-hide-header-footer data-background-image="./images/0_cover.png"
                data-background-opacity="0.15">
                <div class="slide-cover">
                    <div class="cover-text">
                        <h1>Sistemas Antipolui√ß√£o</h1>
                        <h3>Catalisador e Sonda Lambda</h3>
                        <div class="meta-info">
                            <span><i class="fas fa-fire"></i> Tratamento de Gases de Escape</span>
                            <span><i class="fas fa-microchip"></i> Controlo Eletr√≥nico (ECU)</span>
                            <span><i class="fas fa-user-tie"></i> Prof. Lu√≠s Lopes</span>
                        </div>
                        <div class="student-list">
                            <h4>Trabalho realizado por:</h4>
                            <ul>
                                <li>29458 Jos√© Santos</li>
                                <li>32801 Pedro Silva</li>
                                <li>32805 Rui Rodrigues</li>
                                <li>32813 Jonathan Ramirez</li>
                                <li>33695 Francisco Gon√ßalves</li>
                                <li>33790 Jo√£o Silva</li>
                            </ul>
                        </div>
                    </div>
                    <div class="cover-image-wrapper">
                        <figure class="cover-image">
                            <!-- Image 0 already generated -->
                            <img src="./images/0_cover.png" data-accent-hue="30" data-accent-saturation="90"
                                data-accent-lightness="50" alt="Catalisador Incandescente">
                        </figure>
                    </div>
                </div>
                <aside class="notes">
                    <h3>üé§ Todos</h3>
                    <ul>
                        <li><strong>Abertura:</strong> "Boa noite. Vamos apresentar o estudo t√©cnico sobre o sistema de
                            p√≥s-tratamento de gases: Catalisador de 3 Vias e Sensor de Oxig√©nio."</li>
                        <li><strong>Enquadramento:</strong> "Estes componentes s√£o fundamentais para o controlo de
                            emiss√µes, garantindo conformidade com as normas Euro."</li>
                        <li><strong>Objetivos:</strong> "Abordaremos os princ√≠pios de cat√°lise heterog√©nea, a
                            monitoriza√ß√£o via malha fechada (Closed Loop) e procedimentos de diagn√≥stico."</li>
                    </ul>
                </aside>
            </section>

            <!-- Slide 1: O Catalisador (Jos√© Santos) -->
            <section>
                <section data-background-image="./images/1_catalyst_function.png" data-background-opacity="0.08">
                    <div class="slide-content">
                        <h2 class="slide-title">O Catalisador (Conversor Catal√≠tico)</h2>
                        <div class="main-row">
                            <div class="content-area">
                                <p class="slide-subtitle">Princ√≠pio de Funcionamento</p>
                                <ul>
                                    <li><i class="fas fa-atom"></i> <strong>Cat√°lise Heterog√©nea:</strong> Acelera√ß√£o de
                                        rea√ß√µes qu√≠micas</li>
                                    <li><i class="fas fa-arrow-right"></i> Convers√£o de HC, CO e NOx em H2O, CO2 e N2
                                    </li>
                                </ul>
                                <p class="slide-subtitle" style="margin-top: 0.8em;">Processos Qu√≠micos</p>
                                <ul>
                                    <li><i class="fas fa-fire-flame-curved"></i> <strong>Oxida√ß√£o:</strong> 2CO + O2
                                        &rarr; 2CO2 | 4HC + 5O2 &rarr; 4CO2 + 2H2O</li>
                                    <li><i class="fas fa-minus-circle"></i> <strong>Redu√ß√£o:</strong> 2NOx &rarr; xO2 +
                                        N2</li>
                                </ul>
                            </div>
                            <div class="visual-area">
                                <div class="image-wrapper">
                                    <img src="./images/1_catalyst_function.png" data-accent-hue="25"
                                        alt="Rea√ß√µes Qu√≠micas no Catalisador">
                                </div>
                            </div>
                        </div>
                    </div>
                    <aside class="notes">
                        <h3>üé§ Jos√© Santos</h3>
                        <ul>
                            <li><strong>Defini√ß√£o:</strong> "O Catalisador atua como um reator
                                termoqu√≠mico passivo. Acelera rea√ß√µes qu√≠micas sem se consumir."</li>
                            <li><strong>Reagentes:</strong> "Trata os tr√™s principais poluentes de combust√£o incompleta:
                                CO (Mon√≥xido de Carbono), HC (Hidrocarbonetos) e NOx (√ìxidos de Azoto)."</li>
                            <li><strong>Rea√ß√µes Redox:</strong> "Ocorrem oxida√ß√µes (adicionar oxig√©nio a CO e HC) e
                                redu√ß√µes (remover oxig√©nio do NOx) simultaneamente."</li>
                            <li><strong>Efici√™ncia:</strong> "A taxa de convers√£o deve ser superior a 95% quando o motor
                                atinge a temperatura operacional (acima de 300¬∞C)."</li>
                        </ul>
                    </aside>
                </section>
                <section data-background-image="./images/1_catalyst_function.png" data-background-size="contain">
                </section>
            </section>

            <!-- Slide 2: Estrutura Interna (Pedro Silva) -->
            <section>
                <section data-background-image="./images/2_structure.png" data-background-opacity="0.08">
                    <div class="slide-content image-left">
                        <h2 class="slide-title">Estrutura Interna</h2>
                        <div class="main-row">
                            <div class="content-area">
                                <p class="slide-subtitle">Composi√ß√£o</p>
                                <ul>
                                    <li><i class="fas fa-border-all"></i> <strong>Substrato:</strong> Cordierite
                                        (Cer√¢mica) ou Met√°lico</li>
                                    <li><i class="fas fa-expand-arrows-alt"></i> Alta densidade de c√©lulas (CPSI)</li>
                                </ul>
                                <p class="slide-subtitle" style="margin-top: 0.8em;">Revestimento Interno</p>
                                <ul>
                                    <li><i class="fas fa-gem"></i> <strong>Platina (Pt) / Pal√°dio (Pd):</strong> Agentes
                                        Oxidantes</li>
                                    <li><i class="fas fa-gem"></i> <strong>R√≥dio (Rh):</strong> Agente Redutor</li>
                                </ul>
                                <div style="margin-top: 1em; font-size: 0.8em; color: var(--text-secondary);">
                                    <i class="fas fa-info-circle"></i> Temperatura Light-off: ~300¬∞C | Ideal:
                                    400¬∞C-800¬∞C
                                </div>
                            </div>
                            <div class="visual-area">
                                <div class="image-wrapper">
                                    <img src="./images/2_structure.png" data-accent-hue="0" data-accent-saturation="0"
                                        alt="Estrutura em Favo de Mel">
                                </div>
                            </div>
                        </div>
                    </div>
                    <aside class="notes">
                        <h3>üé§ Pedro Silva</h3>
                        <ul>
                            <li><strong>Substrato:</strong> "A estrutura de suporte √© normalmente Cordierite, extrudida
                                em canais favo-de-mel para maximizar a √°rea superficial espec√≠fica."</li>
                            <li><strong>Revestimento:</strong> "√â aplicada uma camada porosa (Alumina) que cont√©m os
                                metais
                                preciosos (como Platina e Pal√°dio)."</li>
                            <li><strong>Fun√ß√£o T√©rmica:</strong> "A cer√¢mica suporta choques t√©rmicos, mas o
                                funcionamento qu√≠mico depende da temperatura. Abaixo de 300¬∞C, a convers√£o √©
                                ineficiente."</li>
                            <li><strong>Fragilidade:</strong> "Cuidado com impactos f√≠sicos que podem partir a cer√¢mica,
                                e choques t√©rmicos com po√ßas de √°gua."</li>
                        </ul>
                    </aside>
                </section>
                <section data-background-image="./images/2_structure.png" data-background-size="contain"></section>
            </section>

            <!-- Slide 3: Sonda Lambda (Rui Rodrigues) -->
            <section>
                <section data-background-image="./images/3_lambda_sensor.png" data-background-opacity="0.08">
                    <div class="slide-content">
                        <h2 class="slide-title">Sonda Lambda (Sensor O2)</h2>
                        <div class="main-row">
                            <div class="content-area">
                                <p class="slide-subtitle">Princ√≠pio (C√©lula de Nernst)</p>
                                <ul>
                                    <li><i class="fas fa-eye"></i> Gera tens√£o baseada na diferen√ßa de O2 (Ar ext. vs
                                        Escape)</li>
                                    <li><i class="fas fa-server"></i> Feedback para Controlo de Malha Fechada</li>
                                </ul>
                                <p class="slide-subtitle" style="margin-top: 0.8em;">Leitura (Sonda Banda Estreita)</p>
                                <ul>
                                    <li><i class="fas fa-gas-pump"></i> <strong>Mistura Rica (&lambda; < 1):</strong> >
                                                0.45V (Excesso combust√≠vel)</li>
                                    <li><i class="fas fa-wind"></i> <strong>Mistura Pobre (&lambda; > 1):</strong>
                                        < 0.45V (Excesso ar)</li>
                                    <li><i class="fas fa-check-circle"></i> <strong>Objetivo:</strong> Estequiometria
                                        (14.7:1)</li>
                                </ul>
                            </div>
                            <div class="visual-area">
                                <div class="image-wrapper">
                                    <img src="./images/3_lambda_sensor.png" data-accent-hue="40"
                                        alt="Corte Transversal Sonda Lambda">
                                </div>
                            </div>
                        </div>
                    </div>
                    <aside class="notes">
                        <h3>üé§ Rui Rodrigues</h3>
                        <ul>
                            <li><strong>Funcionamento:</strong> "A Sonda Lambda (Sensor de Oxig√©nio)
                                utiliza Sais de Zirc√≥nio
                                que se tornam condutores a >300¬∞C."</li>
                            <li><strong>Sinal El√©trico:</strong> "√â um gerador de tens√£o. Compara os i√µes de oxig√©nio do
                                escape com o ar atmosf√©rico de refer√™ncia."
                                <ul>
                                    <li><strong>Mistura Rica (mais de 0.8V):</strong> Aus√™ncia de O2 no escape.</li>
                                    <li><strong>Mistura Pobre (menos de 0.2V):</strong> Excesso de O2.</li>
                                </ul>
                            </li>
                            <li><strong>Ajuste de Combust√≠vel:</strong> "A ECU usa este sinal para o controlo de Malha
                                Fechada, ajustando o tempo de inje√ß√£o para manter a mistura ideal (Lambda=1)."</li>
                        </ul>
                    </aside>
                </section>
                <section data-background-image="./images/3_lambda_sensor.png" data-background-size="contain"></section>
            </section>

            <!-- Slide 4: Avarias Catalisador (Jonathan Ramirez) -->
            <section>
                <section data-background-image="./images/4_catalyst_fail.png" data-background-opacity="0.08">
                    <div class="slide-content image-left">
                        <h2 class="slide-title">Avarias no Catalisador</h2>
                        <div class="main-row">
                            <div class="content-area">
                                <p class="slide-subtitle">Modos de Falha</p>
                                <ul>
                                    <li><i class="fas fa-bans"></i> <strong>Obstru√ß√£o F√≠sica:</strong> Aumento da
                                        contrapress√£o</li>
                                    <li><i class="fas fa-fire-alt"></i> <strong>Derretimento Interno:</strong> Excesso
                                        de temperatura (>1000¬∞C)</li>
                                    <li><i class="fas fa-virus"></i> <strong>Contamina√ß√£o Qu√≠mica:</strong> F√≥sforo,
                                        Zinco, Silicone</li>
                                </ul>
                                <p class="slide-subtitle" style="margin-top: 0.8em;">C√≥digo de Avaria (DTC)</p>
                                <ul>
                                    <li><i class="fas fa-laptop-code"></i> <strong>P0420:</strong> Efici√™ncia do Sistema
                                        Catal√≠tico < Limite (Bank 1)</li>
                                </ul>
                            </div>
                            <div class="visual-area">
                                <div class="image-wrapper">
                                    <img src="./images/4_catalyst_fail.png" data-accent-hue="10"
                                        alt="Catalisador Derretido/Danificado">
                                    <div class="fragment"
                                        style="position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); background:rgba(0,0,0,0.8); padding:20px; border:2px solid orange; border-radius:10px;">
                                        <p style="color:orange; font-weight:bold; margin:0;"><i
                                                class="fas fa-search-dollar"></i> Aten√ß√£o aos Roubos!</p>
                                        <p style="font-size:0.7em; margin:0;">Cont√™m metais muito valiosos.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <aside class="notes">
                        <h3>üé§ Jonathan Ramirez</h3>
                        <ul>
                            <li><strong>Degrada√ß√£o T√©rmica:</strong> "Falhas de igni√ß√£o enviam combust√≠vel n√£o
                                queimado para o escape, elevando a temperatura e derretendo o interior do catalisador."
                            </li>
                            <li><strong>Contamina√ß√£o:</strong> "Aditivos de √≥leo e l√≠quido de refrigera√ß√£o criam
                                dep√≥sitos que
                                bloqueiam a cer√¢mica, impedindo o contacto dos gases com os metais preciosos."</li>
                            <li><strong>Diagn√≥stico P0420:</strong> "Efici√™ncia abaixo do limite. A ECU compara a Sonda
                                Pr√©-Catalisador com a Sonda P√≥s-Catalisador. Se os sinais forem iguais (oscilarem
                                ambos), o catalisador perdeu capacidade."</li>
                        </ul>
                    </aside>
                </section>
                <section data-background-image="./images/4_catalyst_fail.png" data-background-size="contain"></section>
            </section>

            <!-- Slide 5: Avarias Sonda Lambda (Francisco Gon√ßalves) -->
            <section>
                <section data-background-image="./images/5_lambda_fail.png" data-background-opacity="0.08">
                    <div class="slide-content">
                        <h2 class="slide-title">Avarias na Sonda Lambda</h2>
                        <div class="main-row">
                            <div class="content-area">
                                <p class="slide-subtitle">Sintomas</p>
                                <ul>
                                    <li><i class="fas fa-tachometer-alt"></i> Consumo excessivo (Modo de Seguran√ßa)
                                    </li>
                                    <li><i class="fas fa-wave-square"></i> Ralenti inst√°vel</li>
                                    <li><i class="fas fa-exclamation-triangle"></i> Luz do Motor Acesa (Check Engine)
                                    </li>
                                </ul>
                                <p class="slide-subtitle" style="margin-top: 0.8em;">Falhas T√©cnicas</p>
                                <ul>
                                    <li><i class="fas fa-biohazard"></i> <strong>Contamina√ß√£o:</strong> Bloqueio das
                                        ranhuras da sonda</li>
                                    <li><i class="fas fa-bolt"></i> <strong>Circuito do Aquecedor:</strong> Resist√™ncia
                                        Aberta</li>
                                    <li><i class="fas fa-hourglass-half"></i> <strong>Resposta Lenta:</strong>
                                        Envelhecimento do sensor</li>
                                </ul>
                            </div>
                            <div class="visual-area">
                                <div class="image-wrapper">
                                    <img src="./images/5_lambda_joke.png" data-accent-hue="200"
                                        data-accent-saturation="20" alt="Solu√ß√£o R√°pida (Piada)">
                                </div>
                            </div>
                        </div>
                    </div>
                    <aside class="notes">
                        <h3>üé§ Francisco Gon√ßalves</h3>
                        <ul>
                            <li><strong>Sintomas:</strong> "Sonda avariada pode causar consumos elevados e ralenti
                                inst√°vel, pois a ECU perde o feedback preciso."</li>
                            <li><strong>Testes El√©tricos:</strong>
                                <ul>
                                    <li><strong>Aquecimento:</strong> Resist√™ncia do aquecedor (2-14Œ©). Se aberto, a
                                        sonda
                                        n√£o aquece r√°pido (aumenta o consumo a frio).</li>
                                    <li><strong>Tempo de Resposta:</strong> Deve variar entre Rico e Pobre em menos de
                                        300ms.
                                        Sondas lentas afetam as emiss√µes.</li>
                                    <li><strong>Frequ√™ncia:</strong> >1Hz a 2000rpm. Sinal fixo indica sonda morta ou
                                        circuito aberto."</li>
                                </ul>
                            </li>
                        </ul>
                    </aside>
                </section>
                <section data-background-image="./images/5_lambda_fail.png" data-background-size="contain"></section>
            </section>

            <!-- Slide 6: Conclus√£o (Jo√£o Silva) -->
            <section data-hide-header-footer data-background-image="./images/6_conclusion.png"
                data-background-opacity="0.1">
                <div class="slide-conclusion">
                    <div class="conclusion-content">
                        <h1>Conclus√£o</h1>
                        <div class="conclusion-points">
                            <div class="conclusion-point">
                                <i class="fas fa-leaf"></i>
                                <p>Essenciais para cumprir normas Euro 6</p>
                            </div>
                            <div class="conclusion-point">
                                <i class="fas fa-stethoscope"></i>
                                <p>Diagn√≥stico requer an√°lise de gases e scanner</p>
                            </div>
                            <div class="conclusion-point">
                                <i class="fas fa-coins"></i>
                                <p>Pe√ßas dispendiosas: A preven√ß√£o √© vital</p>
                            </div>
                            <div class="conclusion-point">
                                <i class="fas fa-check-double"></i>
                                <p>Obrigat√≥rios na Inspe√ß√£o Peri√≥dica (IPO)</p>
                            </div>
                        </div>
                        <p class="thanks">Obrigado!</p>
                    </div>
                    <div class="conclusion-image-wrapper">
                        <figure class="conclusion-image">
                            <img src="./images/6_conclusion.png" data-accent-hue="140" alt="Aprova√ß√£o na Inspe√ß√£o">
                        </figure>
                    </div>
                </div>
                <aside class="notes">
                    <h3>üé§ Jo√£o Silva</h3>
                    <ul>
                        <li><strong>Conformidade:</strong> "A integridade destes sistemas √© obrigat√≥ria para a
                            inspe√ß√£o e normas ambientais."</li>
                        <li><strong>Manuten√ß√£o:</strong> "O diagn√≥stico preventivo evita danos catastr√≥ficos. A an√°lise
                            de gases (4 gases) √© a ferramenta final de valida√ß√£o."</li>
                        <li><strong>Encerramento:</strong> "Em suma, o t√©cnico deve saber analisar os valores de
                            corre√ß√£o de combust√≠vel e os sinais de oscilosc√≥pio para um diagn√≥stico correto. O uso de
                            pe√ßas de qualidade √©
                            essencial."</li>
                    </ul>
                    <h3>üé§ Todos</h3>
                    <p><strong>Fim</strong> - Sess√£o de Perguntas e Respostas.</p>
                </aside>
            </section>

        </div>
    </div>

    <!-- Reveal.js -->
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@latest/dist/reveal.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@latest/plugin/notes/notes.min.js"></script>

    <script>
        // Check for 'notes' URL parameter to enable speaker notes on mobile
        const urlParams = new URLSearchParams(window.location.search);
        const enableNotes = urlParams.has('notes');

        Reveal.initialize({
            plugins: [RevealNotes],
            hash: true,
            history: true,
            transition: 'slide',
            transitionSpeed: 'default',
            backgroundTransition: 'fade',
            showNotes: enableNotes,
            center: true,
            width: 1920,
            height: 1080
        });

        // Elements
        const svg = document.getElementById('dynamic-bg');
        const geoElements = svg.querySelectorAll('.geo-element');
        const gridPattern = svg.querySelectorAll('.grid-pattern');
        const globalHeader = document.getElementById('global-header');
        const globalFooter = document.getElementById('global-footer');

        const gridPath = document.getElementById('grid-path');
        const gradientStop1 = document.getElementById('gradient-stop-1');
        const gradientStop2 = document.getElementById('gradient-stop-2');

        const defaultAccent = { hue: 30, saturation: 90, lightness: 50 };
        let currentAccent = { ...defaultAccent };
        let targetAccent = { ...defaultAccent };

        function lerp(start, end, factor) {
            return start + (end - start) * factor;
        }

        function updateSVGColors(accent) {
            const { hue, saturation, lightness } = accent;
            const primary = `hsl(${hue}, ${saturation}%, ${lightness}%)`;
            const secondary = `hsl(${hue}, ${saturation}%, ${Math.min(lightness + 12, 60)}%)`;

            if (gridPath) gridPath.setAttribute('stroke', primary);
            if (gradientStop1) gradientStop1.style.stopColor = secondary;
            if (gradientStop2) gradientStop2.style.stopColor = primary;

            document.documentElement.style.setProperty('--accent-hue', hue);
            document.documentElement.style.setProperty('--accent-saturation', `${saturation}%`);
            document.documentElement.style.setProperty('--accent-lightness', `${lightness}%`);
        }

        function animateColorTransition() {
            const factor = 0.06;
            currentAccent.hue = lerp(currentAccent.hue, targetAccent.hue, factor);
            currentAccent.saturation = lerp(currentAccent.saturation, targetAccent.saturation, factor);
            currentAccent.lightness = lerp(currentAccent.lightness, targetAccent.lightness, factor);
            updateSVGColors(currentAccent);

            const hueDiff = Math.abs(currentAccent.hue - targetAccent.hue);
            const satDiff = Math.abs(currentAccent.saturation - targetAccent.saturation);
            const lightDiff = Math.abs(currentAccent.lightness - targetAccent.lightness);

            if (hueDiff > 0.5 || satDiff > 0.5 || lightDiff > 0.5) {
                requestAnimationFrame(animateColorTransition);
            }
        }

        function getSlideAccentColor(slide) {
            const img = slide.querySelector('img[data-accent-hue]');
            if (img) {
                return {
                    hue: parseFloat(img.dataset.accentHue) || defaultAccent.hue,
                    saturation: parseFloat(img.dataset.accentSaturation) || defaultAccent.saturation,
                    lightness: parseFloat(img.dataset.accentLightness) || defaultAccent.lightness
                };
            }
            return defaultAccent;
        }

        function isFullscreenSlide() {
            return Reveal.getIndices().v > 0;
        }

        function updateHeaderFooterVisibility() {
            const currentSlide = Reveal.getCurrentSlide();
            const parentSection = currentSlide.parentElement;
            const hideHeaderFooter = currentSlide.hasAttribute('data-hide-header-footer') ||
                (parentSection && parentSection.hasAttribute('data-hide-header-footer')) ||
                isFullscreenSlide();

            if (hideHeaderFooter) {
                globalHeader.classList.add('hidden');
                globalFooter.classList.add('hidden');
            } else {
                globalHeader.classList.remove('hidden');
                globalFooter.classList.remove('hidden');
            }
        }

        Reveal.on('ready', () => {
            updateHeaderFooterVisibility();
            const initialAccent = getSlideAccentColor(Reveal.getCurrentSlide());
            currentAccent = { ...initialAccent };
            targetAccent = { ...initialAccent };
            updateSVGColors(currentAccent);
        });

        Reveal.on('slidechanged', event => {
            const slideIndex = event.indexh;
            const currentSlide = event.currentSlide;

            updateHeaderFooterVisibility();
            targetAccent = getSlideAccentColor(currentSlide);
            animateColorTransition();

            const baseOpacity = 0.12 + (slideIndex % 5) * 0.02;
            const rotation = slideIndex * 3;
            const translateX = Math.sin(slideIndex * 0.5) * 20;
            const translateY = Math.cos(slideIndex * 0.5) * 15;

            geoElements.forEach((el, i) => {
                const individualOffset = i * 0.02;
                el.style.opacity = Math.min(0.6, baseOpacity + individualOffset + 0.2); // Slights brighter for spark effect
                el.style.transform = `translate(${translateX + i * 5}px, ${translateY + i * 3}px) rotate(${rotation + i * 5}deg)`;
            });

            gridPattern.forEach(el => {
                el.style.opacity = 0.25 + (slideIndex % 3) * 0.08;
            });
        });
    </script>
</body>

</html>